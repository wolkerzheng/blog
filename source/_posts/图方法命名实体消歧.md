---
title: 基于图方法的命名实体消歧
date: 2016-09-21 19:51:22
tags: note
---
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>


### 摘要

   1.  首先对知识库的预处理，需要利用知识库中的实体关系对候选实体进行拓展，预处理从三元组的表示形式和数据集筛选两个角度进行，通过预处理，去除对消歧无用的信息，减少噪声数据
   三元组表示时，主要对三元组的实体表示进行缩减，并对异常编码处理
   数据集上，针对不同的数据集提醒进行分析，对数据集中的三元组进行过滤
   2.  实体消歧主要步骤是生成候选实体和名实体消歧
   先从文本中的实体指称生成候选，基于字符串相似度的方法和基于知识库的方法两个角度对实体指称生成候选，字符串相似度方法主要从候选实体的扩充和筛选两个方面，基于知识库的方法主要有基于规则的方法和基于先验概率的方法。通过对不同候选生成方法的效果进行对比，最终对几种方法进行组合。
   3.  候选实体生成之后是名实体消歧
    - 利用知识库中的实体关系对候选实体进行拓展，候选实体之间形成互相连通的实体网络图
    - 在网络图上采用链接分析算法，为候选实体评分从而实现消歧
    对实体的拓展策略设计拓展采用的实体关系，拓展的实体路径长度，上下文粒度的选择以及对实体指称进行消歧是采用同时决策还是依次进行决策。
<!--more-->
	名实体消歧，图方法，DBpedia，知识库
### 绪论

	命名实体消歧：将文本中具有多个含义的实体指称去除歧义。并将其链接到知识库中的唯一实体，从而达到消歧目的。
	名实体：主要是包括人名，地名，机构名等，在句子中往往是作为主语宾语等成分
	名实体消歧意义：
		实体消歧改进搜索引擎的查询效果
		集成互联网信息，易于挖掘有用信息
		拓展知识库内容
	维基百科中积累大量的名实体信息，大量的名实体消歧任务以及维基百科作为背景任务，将文本中的名实体与维基百科标题想对应，实体消歧也称维基化（Wikification）；实体消歧相似的另一个任务是实体链接，主要区别，实体链接除了确定名实体在知识库中对应的实体，还需要对知识库中不存在的名实体通过聚类进行处理
	实体消歧的目的是从文本中可能具有歧义的名实体映射到某个无歧义的概念。文本中的名实体被称为实体指称(mention，通常是目标实体的缩写、简称、绰号甚至是错误拼写),是某概念在文本中的具体引用形式。而无歧义的概念使用知识库中的实体来表示。实体消歧要做的就是对文本中的所有实体指称找到知识库中与之唯一对应的目标实体。

	实体消歧：
	× 根据实体指称字符串，通过候选生成算法获得该实体指称所有可能的实体（称候选实体），
	× 通过消歧算法对候选实体进行排序，从而确定实体指称对应的目标实体

	DBpedia知识库，结构化的维基百科知识库，它通过语义网络技术对维基百科内容进行组织，DBpedia由RDF三元组构成，三元组包含实体以及实体之间的关系。

	实体消歧策略：
	- 局部策略 (local) ,不同的实体指称的消歧决策是相互独立，实体指称通过其所在文本中的上下文特征和每个候选实体计算匹配程度从而确定目标实体
	- 全局策略 (global)，同一文本中出现的实体是关于某个主题的，相互之间存在语义关联，具有某种程度的内聚性，同一文本中的不同实体指称的决策是相互依赖的
	- 集体策略（collective）
	实体消歧常用特征：
	1. 局部特征：
	- 上下文相似度（Context Similarity）
		为实体指称设定一个上下文窗口，将窗口内的文本和实体对应的维基百科文本计算余弦相似度
	- 先验概率（Prior Probability）
		p(c|m),m表示实体指称,c表示候选实体。给定一个实体指称m其对应的目标实体是c的概率。该概率通过统计所有维基百科正文中出现的锚文本超链接字符串 m 和链接所指向的维基百科页面的标题的对应关系得出。先验概率来自由维基百科志愿者编写的超链接,因此具有较高的可靠性,常被用于作为实体消歧的基线系统。
	- 实体流行度（Popularity）
		统计每个实体的维 基 百 科 入 链 数 并 除 以 所 有 维 基 百 科 链 接 数 目 , 最 终 得 到 实 体 的 流 行 度
	2. 全局特征
	- 链接重叠（Link Overlap）
		链接重叠采用的资源主要是实体的维基百科页面中的入链集合和出链集合,该特征认为具有较多共有链接的实体之间具有较高的相关度。评估的标准有谷歌距离和 Jaccard 相似系数等。
	- 语义相关度（Semantic Relatedness）
		利用实体的维基百科类别和信息框数据

### 知识库数据集和预处理

语义网络（Semantic Web），在互联网数据之间创造了链接，方便浏览这个网络。
资源描述框架（Resource Description Framework,RDF），统一资源标识符(Uniform Resource Identifiers,URIs)
一条RDF语句由三个URL组成的三元组（triple）表示，三元组的各个部分依次被称为主语、谓语、宾语。RDF三元组通常用于陈述某一事实。三元素之间以空格分割,使用“.”作为结束符。RDF实体一般使用缩写，dbr:通常为实体的前缀,后跟实体名。dbo:代表本体,通常做为本体类或者属性的前缀。rdfs:后跟subclass,property 等表示本体类别间的关系或者属性,通常用于描述类别。rdf:后跟 type,可以作为谓语定义实体的类别。skos:用于描述概念间的语义关系

DBpedia知识库由一系列分散的数据集构成，这些数据集使用不同的DBpedia抽取器（DBpedia extractors）抽取自维基百科页面不同的部分
	- labels_en.nt由labels抽取器抽取自维基百科页面的标题部分
	- short_abstracts_en.nt由abstract抽取器抽取自维基百科正文的首段
	- disambiguation_en.nt抽取自维基百科消歧页面
	- redirect_en.nt 抽取自维基百科的重定向页面,现实中存在同一事物具有不同别名的情况
	- page_links.nt 抽取自维基百科词条页面的链接信息。
	- article_categories_en.nt 抽取自维基百科页面底端的维基百科类别
	- skos_categories_en.nt 文件中每个三元组主语和宾语是维基百科类别实体,谓语是两个实体之间的关系
	- instance_types_en.nt 中保存的是实体和实体类别间的关系
	- mappingbased_properties_en.nt 存储的是从维基百科信息框抽取的属性信息
	- persondata_en.nt 专门从维基百科页面抽取的人物信息框中的内容
	- dbpedia_2014.owl 中存储的是本体类,定义了类别之间的关系以及每个类别的属性

### 候选实体生成
* 基于字符串相似度的候选生成方法
实体指称和目标实体通常具有字符串上的相似性,实体指称往往以目标实体的简写、缩写、别称,甚至错误拼写的而形式出现。候选生成的最简单的方法是使用实体指称和实体列表中的实体之间的字符串相似度进行来生成候选。
首先采用简单的规则生成候选实体,目标是尽可能地提高目标实体的覆盖程度。采用的规则如下:
(1)对于所有字母均为大写的实体指称,往往为某实体名的缩写形式。遍历知识库数据集中的实体名称,对每个实体名,获得构成实体名的各个单词的首字母集合,并和实体指称中的字母集合进行对比,完全匹配的作为候选实体添加到候选实体列表。由于缩写中通常不带借介词,获取实体名首字母集合之前首先将 the、of 等介词去除。
(2)对于包含多个单词的实体指称,遍历实体名列表,从中找出同时包含这些单词的实体,并将这些实体添加到候选实体列表中。
(3)对于只有单个单词的实体指称,从实体名列表中找到和实体指称同名的实体或者实体名包含该实体指称的实体,添加到候选实体列表中。
候选实体的筛选：
编辑距离是衡量字符串相似度的一种方法。一个字符串经过一系列特定的操作变化为另一个字符串的最少操作数称作编辑距离,特定操作指的是对字符进行插入、删除、替换操作。
* 基于知识库的候选生成方法
```
		Input : mention
		Output : candidateList
		candidateList={}
		disList=searchFromDisambiguation(mention)//从消歧页面获取候选列表
		redList=searchFromRedirect(mention)//从重定向页获取候选
		labList=searchFromLabel(mention)//从 label 中获取和 mention 同名的候选
		if redList!=NULL
			for can in redList:
				disList←disList∪searchFromDisambiguation(can) ∪ searchFromLabel(mention)
		candidateList= candidateList∪disList∪ redList∪ labList

```
* 基于锚文本先验概率的候选生成方法
锚文本是维基百科页面的常见元素,一个实体的维基百科页面可以通过其正文中的锚文本跳转到另一个实体的维基百科页面。直观地讲锚文本就是在维基百科正文中以蓝色标出的超链接。锚文本的字符串往往实体实体的别称。
锚文本中“|”符号分隔开的左右两部分分别视为实体名和其对应的实体指称。通过收集所有维基百科页面的链接并获得锚文本,我们可以对实体和实体指称的共现进行统计。
例如对于所有锚文本中的实体指称 m,统计所有与之共现的实体名e1,e2,e3,...与 m 的共现次数,我们可以得出条件概率 P(ei|m)
* 基于先验概率和启发式规则结合的候选生成方法
(1)prior_ Heuristic:以基于锚文本先验概率的方法为主体,当基于锚文本先验概率的方法产生候选数目为 0 时,采用基于启发式规则的方法进行补充。
(2)Heuristic _ prior:以基于启发式规则的方法为主体,当基于启发式规则的方法生成候选数目为 0 的情况下,采用基于锚文本先验概率的方法进行补充。
(3)Heuristic+prior 直接合并两种方法生成候选的结果并去重.

### 基于实体网络的名实体消歧

通过候选生成阶段获取每个实体指称的候选实体列表之后,接下来的消歧任务就是从候选实体列表中为实体指称选择目标实体。实体消歧的方法主要有两类,其一是基于局部相似度的名实体消歧方法,这种方法将实体指称和候选实体列表中的每一个实体计算上下文相似度,然后选择相似度最高的作为目标实体;另一种称为全局方法,这种方法认为在同一文本中对不同实体指称进行的消歧决策之间具有依赖性,所以以文本为单位进行消歧,同一文本中实体指称的消歧决策受其他实体指称决策的影响。

这里,我们以文本为单位,将其中所有实体指称的候选实体作为图中的节点,然后使用知识库中实体与实体之间的关系对候选实体进行拓展,从而形成候选实体构成的网络图,在此网络上使用算法对候选实体进行排序,最终选择出最有可能的目标实体。

#### 实体网络图的构建
假设一篇文档 D 中含有的所有实体指称构成集合 \\(M={m_1 ,m_2 ,m_3 ,m_4 ...m_k }\\),k∈[1,K],K 为文档 D 所有的实体指称数目。对实体指称生成候选之后,对每一个实体指称 m i 存在一个候选实体集合 \\(Ci={c_{i1} ,c_{i2} ,c_{i3} ,c_{i4} ...c_{ij}},j∈[1,J]\\),J 为实体指称 m_i 的候选实体数目。我们要以所有的候选实体为初始节点,使用知识库中的三元组进行对它们拓展,从而使候选实体相互连通形成网络图。
例如对于候选实体 \\(c_{ij}\\) 和 \\(c_{mn}\\),其中 i≠m,假如知识库中存在三元组(c_{idd ,R 1 ,e x )和(e x ,R 2 ,c mn )那么我们可以通过深度优先遍历获得长度为 2 的路径 $c_ij ->e_x ->c_mn$ ,并把边$(c_ij ,e_x )$和$(e_x ,c_mn )$添加到我们要构造的实体网络图中,其中 e_x 为中间实体。最终这些路径将候选实体连接成图。
```
		Input men_canDic,mentionLs
		Output G
		pairLs=[]
		for mi, mj in mentionLs, if mi!=mj:
			for can1 in men_canDic[mi]:
				for can2 in men_canDic[mj]:
					pairLs.append([can1,can2])
				end
			end
		end
		for pair in pairLs:
			pathLs=DFS(pair[0],pair[1])
			for node in pathLs:
				G.vertex.add(node)
			end
			for path in pathLs:
				for edge in path:
					G.edge.add(edge)
				end
			end
		end
```
DBpedia 中实体关系最为丰富的数据集是 page_links.nt,即网页链接数据集。
为了构成候选实体的子图,我们需要从每一个候选实体出发,在 DBpedia实体网络图中采用深度优先搜索,找到从本候选实体到其他候选实体的路径。然后使用这些路径构成候选实体网络。
为了生成实体网络,路径的深度是一个重要的参数。假设平均每个实体有n 个邻接实体,深度优先遍历的层次为 m,拓展出的实体数目为 $n^m$ 个。候选实体之间的路径长度越短,拓展出的中间节点越少,从知识库获得的信息也就越少,但是构成实体网络图的时间较快,计算复杂度较低。选实体之间的路径越长,中间节点越多,用于消歧的信息就越多,但是路径越长,路径中的中间实体和候选实体的关联会越弱,有时可能拓展出噪声实体。所以我们需要选择合适的路径长度。
### 图方法消歧
图方法现在也广泛地应用于自然语言处理领域,词义消歧任务中也较早的引入了图算法.对于同一句话中不同的单词,每个单词都有不同的词义,同一句话中不同词的词义之间存在相互依赖。为每个词分配不同的词义,会使得同一个句子有不同的解释。可以将每种不同的解释构成图,图中的节点为不同单词的词义,图中的边为词义之间的相互依赖关系
```
		Input	G(候选实体网络图)
		Output	men_enDic(字典,键为实体指称,值为实体指称的目标实体)


		(1),对图 G 中的每个节点计算 coherence
		(2).除了已经确定的目标实体,获取 coherence 值最高的候选实体 en ,即 P(men=can)取最
		大值的候选实体
		(3).将 en 对应实体指称 men 的其他候选实体以及相关边从 G 中移除并在 men_enDic 中添
		加 men_enDic[men]=en
		(4). 若所有目标实体已经确定则程序结束并返回 men_enDic,否则回到(1)
```
